language: java
jdk: oraclejdk8
script: mvn clean verify
sudo: required 
before_install:
 - python -V
 - pip -V
 - sudo pip install -r travis/requirements.txt
 - python ./travis/try_issues.py
after_success:
 - git checkout master
 - git status
 - echo -e "Host *\n\tStrictHostKeyChecking no\n" >> ~/.ssh/config
 - echo -e "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDAy0EB7iCd68wzNiFkszP01cuZS1Llp3g+TEGyx3WsI8/gFqCICJ1NAO+JnC+vyObYkznqvZHBOUl1KmwhuzOU1++5nY8dak1GqPAzl6JjGVc0Oo1Od+FAWfHbbUEf561rMtWaj9Q6WRGN0itsK2KdDA+sTBppvYPkPWsphiMrzoTjiuDXMMzGrfTa812N9TehCIp80KyjRKLdOn73rEeeNOYMJSqTHdozTbJBVt/tUsG38prsrfqBgoIiD+2F2Hw+O8gFQWSSQq2E/LUz0Rh6kd9rGvPnWoXpzjcOvFGp4kvdieoJQJoCdywL+IUBTzxdeTftUSrWIPtJ1IXNHAELig4uOL7aV6SAaBlLBPW8TMxZf3vs5OlNg0VZdtF5mRFLvnQWWfJk8jzvY3WssjnEdzjuJmylpbXxBeaUicT2hZiN4b+98ZSAB1dSoWv3c1mztXWO+CVBtukRJ54ZXQOIJ1KYGMIyZf4Egt+Y4V8wEqOMN/X+kSB4VZVGkWLrtAqM6a1Ztbg0sDF+UXFzjYoKLcyk2Y2dMxBM5pi1oDaylzrePrXjWLj3BgiE7V/Zlfz1GAzHRtMdv9MzuBRSHWvT3WjbhaAyvOt/Fh7nuGf28T1NZ7hhQ0/A8hD3UaDoka4VXJolIJfIEwpYy0PiT5klj/ZHvodaocVRqkjZUngKlw== hpi.swt2@gmail.com" > ~/.ssh/id_rsa.pub
 - echo -e "-----BEGIN RSA PRIVATE KEY-----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-----END RSA PRIVATE KEY-----" > ~/.ssh/id_rsa
 - chmod 600 ~/.ssh/id_rsa*
 - eval `ssh-agent -s`
 - sudo apt-get install -y expect
 - chmod +x ./travis/ssh_add.sh
 - ./travis/ssh_add.sh
 - git config --global user.email "hpi.swt2@gmail.com"
 - git config --global user.name "swt2public"
 - chmod +x ./travis/pull.sh
 - ./travis/pull.sh
 - git pull -X theirs --no-edit "https://swt2public:wnjxeUn6pQpcnR4V@github.com/hpi-swt2-exercise/java-tdd-challenge-tasks.git" master
 - mvn test
 - python ./travis/submit_issue.py
